INSTALL - Anleitung zur Installation von UNIX-Connect
=====================================================

      Dies ist nur eine Kurzversion. Die offizielle Dokumentation
      zur Installation von UNIX-Connect ist im TeXinfo-Format in der Datei
      docs/uconn.texi zu finden.

      Derzeit (v0.77) ist allerdings diese Datei bereits aktualisiert,
      docs/uconn.texi aber noch auf Stand von v0.53...

      Diese Datei ist neu geschrieben zur Anpassung an das neue
      configure-Script von Andreas Barth <aba@muenchen.pro-bahn.de>.
      Der Fileserver und die Erweiterung für die APC Unix software
      stehen damit vorübergehend nicht zur Verfügung.

      Datum: 7. August 1999

      Unix-Connect ist freie Software und unterliegt der GPL. Näheres
      in der Datei COPYING.


Folgendes ist zu tun:

1. Nutzer- / Gruppenkennung
---------------------------

UNIX-Connect benoetigt eine User-ID, unter der die Gateway-Programme
arbeiten und Daten an das Mail- und News-System weitergeben. Auch die
Logfiles gehoeren diesem User und sollten nur von ihm lesbar sein.

Eine passende Nutzer- und Gruppenkennung aussuchen und ggf. anlegen



2. ./configure <parameter>.
---------------------------

Im Gegensatz zu früher wird hier wirklich _nur_ konfiguriert,
Dateien oder Verzeichnisse werden nur _im_ Quellcode-Baum
angelegt.

Die Parameter können bzw. müssen sein:

--with-user=user   Nutzerkennung für Unix-Connect
--with-group=group Gruppenkennung für Unix-Connect



--with-box=typ            point, gate, server

UNIX-Connect kann sehr vielseitig einsetzen werden. Die häufigsten
Konfigurationen sind:

   1) Point:    Als persönliches System. Unix-Connect wird als Point 
                an einer Z-NETZ MailBox eingesetzt. Achtung, in diesem
                Fall dürfen keine Daten auf der RFC-Seite weitergegeben
                werden.
   2) Gateway:  Der Rechner hat nichts mit dem Z-NETZ zu tun,
                aber andere Systeme moechten von Ihnen Mail/News
                per ZCONNECT (bzw. JANUS) beziehen.
   3) MailBox:  Als MailBox im Z-Netz. UNIX-Connect macht Verbindungen zu
                anderen MailBoxen sowie zu Points.

Wenn Sie unsicher sind, waehlen Sie die (3). Damit wird eine Vollversion
installiert.
Für (1) bitte point, für (2) gate und für (3) server verwenden.



--disable-real-gate       Nachrichten zurückkonvertieren erlauben.

Falls Sie Verbindungen ins Usenet haben, die nicht über ZConnect-Strecken
laufen, dürfen Sie Nachrichten, die aus dem Usenet stammen, nicht mehr nach
RFC zurückwandeln, da diese (prinzipbedingt) verändert worden sind.

UNIX/Connect unterbindet die Rückkonvertierung von Usenet-Artikeln, indem
beim Konvertieren nach ZConnect ein entsprechender Header gesetzt wird,
damit sie nicht wieder in das Usenet gesendet werden. Mit dieser Option
kann das Rückkonvertieren wieder ermöglicht werden.


--with-files=dir          Wohin alle Dateien kommen (soll aufgeteilt werden).

Der Default ist /usr/local/lib/zconnect/
(im Nachfolgenden auch als zcondir bezeichnet)


--with-spooldir=dir       Spooldir.

Wohin das Spoolverzeichnis kommen soll. 
Default: /var/spool/zconnect/ bzw. /usr/spool/zconnect/


--with-dialprae=code      Wählcode (Default=atdt).

Was einem Wählbefehl vorausgestellt werden soll. Im Zweifelsfall auch den
Rauswahlcode für die Nebenstellenanlage angeben (zB atdp0,).


--with-ortswahl=code      Ortsvorwahl (Default=0).
--with-intwahl=code       Internationale Vorwahl (Default=00).

Eigentlich selbsterklärend.


Die Dateien include/policy.h, include/config.h, include/sysdep.h,
Makefile und .makefile.conf können vor dem Übersetzen angeschaut
und evtl. korregiert werden.


3. Übersetzen
-------------

make


4. Installieren
---------------

make install


Außerdem müssen die Dateien misc/myself.zconnect und misc/config ins
zcondir kopiert und dort editiert werden.

Diese Dateien müssen von der Nutzerkennung gelesen werden können.

make install
muß von Root ausgeführt werden.



5. Points/Systeme anlegen
-------------------------

Für jedes bekannte System (auch Points) muß eine Datei in 
zcondir/systems vorhanden sein, die den FQDN dieses Systems trägt.
Die Datei enthält (jeweils die Zeilen mit den "|", jedoch ohne die
"| ")
| Sys:            $SERVER
Systemname, also beim Systemnamen foo.bar foo
| Domain:         $Domain
Der Rest für den FQDN, also beim Systemnamen foo.bar bar.
| Passwd:         $PASSWD
Das Passwort
| ArcerOut:       $ArcerOut
| ArcerIn:        $ArcerIn
Die beiden Packer.
| Tel:            1 $TEL
Die Telephonnummer des Systems. Braucht nur eingetragen werden, wenn
Unix-Connect anrufen soll.
| Proto:          $Proto
Übertragungsprotokoll (ZMODEM, XMODEM, YMODEM)
| X-Call:         $XCall
Anrufverfahren: ZCONNECT oder JANUS


Außerdem müssen je ein Verzeichnis mit dem Systemnamen im Spooldir und
im Unterverzeichnis z-outq des Spooldirs angelegt werden. Benutzer- und
Gruppenkennung müssen sowohl bei den Verzeichnissen als auch bei der
obigen Datei die bei configure angegebenen Kennungen sein.



6. Login-Accounts einrichten
----------------------------

Wenn Sie ZCONNECT oder JANUS Anrufe entgegennehmen koennen moechten,
brauchen Sie einen Login fuer das jeweilige Verfahren:

   Login         Verfahren        Bemerkung
 -----------------------------------------------------------------------
   janus         JANUS            der Login-Prompt muss "Username:" sein.
   zconnect      ZCONNECT-3.1     Login-Prompt muss "ogin" oder "ame"
                                  enthalten (Gross/Kleinschreibung wird
                                  ignoriert)
 -----------------------------------------------------------------------

Es müssen login-Möglichkeiten für janus und zconnect geschaffen werden.
Nach dem Einloggen muß Zugriff auf die Dateien geschaffen werden, sprich
die Programme müssen unter der User-ID der bei configure angegebenen
Kennung laufen.

Als Alternative zum Eintrag in die Passwort-Datei kann auch mittels
mgetty der Login realisiert werden.



7. In das Mail- und Newssystem einrichten
-----------------------------------------

[Das ist hier noch nicht beschrieben. Bitte in INSTALL.old nachschauen.]



8. Mail und News regelmäßig packen
----------------------------------

Wenn andere Systeme anrufen, so müssen regelmäßig die Daten gepackt
werden. Dies kann beispielsweise durch Aufruf von <zcondir>/prearc
aus der Root-Crontab erfolgen.

Außerdem sollten hin und wieder die back*-Verzeichnisse aufgeräumt
werden.


9. Fertig
---------

Viel Spaß.
